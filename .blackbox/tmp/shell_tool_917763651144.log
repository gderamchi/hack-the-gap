
> trustfluencers-backend@1.0.0 dev
> ts-node-dev --respawn --transpile-only src/server.ts

[INFO] 14:48:07 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.9.3)
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T13:48:09.371Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T13:48:09.373Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T13:48:09.373Z"}
[32minfo[39m: GET /api/health {"ip":"::1","timestamp":"2025-11-16T13:48:33.795Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/health {"ip":"::1","timestamp":"2025-11-16T13:48:44.488Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:48:44.558Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:48:45.063Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:48:45.380Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:48:45.603Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers/7d5b25f7-65f4-47d0-83c6-26690b6e3f60 {"ip":"::1","timestamp":"2025-11-16T13:48:45.824Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error fetching influencer: 
Invalid `prisma.influencer.findUnique()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30

  53  * Get influencer by ID with mentions
  54  */
  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {
‚Üí 56   return prisma.influencer.findUnique({
         where: {
           id: "7d5b25f7-65f4-47d0-83c6-26690b6e3f60"
         },
         include: {
           mentions: {
           ~~~~~~~~
             orderBy: {
               scrapedAt: "desc"
             },
             take: 100
           },
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true
         }
       })

Unknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findUnique()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30\n\n  53  * Get influencer by ID with mentions\n  54  */\n  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {\n‚Üí 56   return prisma.influencer.findUnique({\n         where: {\n           id: \"7d5b25f7-65f4-47d0-83c6-26690b6e3f60\"\n         },\n         include: {\n           mentions: {\n           ~~~~~~~~\n             orderBy: {\n               scrapedAt: \"desc\"\n             },\n             take: 100\n           },\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true\n         }\n       })\n\nUnknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/influencer.routes.ts:67:24","timestamp":"2025-11-16T13:48:45.864Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-rated {"ip":"::1","timestamp":"2025-11-16T13:48:45.900Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top rated: 
Invalid `prisma.influencer.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49

   8  * Get top rated influencers
   9  */
  10 async getTopRated(limit: number = 20) {
‚Üí 11   const influencers = await prisma.influencer.findMany({
         orderBy: {
           trustScore: "desc"
         },
         take: 5,
         select: {
           id: true,
           name: true,
           imageUrl: true,
           niche: true,
           trustScore: true,
           dramaCount: true,
           goodActionCount: true,
           lastUpdated: true,
           communityTrustScore: {
           ~~~~~~~~~~~~~~~~~~~
             select: {
               avgRating: true,
               totalRatings: true,
               communityScore: true,
               combinedScore: true
             }
           },
       ?   summary?: true,
       ?   socialHandles?: true,
       ?   neutralCount?: true,
       ?   avgSentiment?: true,
       ?   language?: true,
       ?   createdAt?: true,
       ?   claimedAt?: true,
       ?   claimedBy?: true,
       ?   isClaimed?: true,
       ?   verificationStatus?: true,
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true,
       ?   _count?: true
         }
       })

Unknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49\n\n   8  * Get top rated influencers\n   9  */\n  10 async getTopRated(limit: number = 20) {\n‚Üí 11   const influencers = await prisma.influencer.findMany({\n         orderBy: {\n           trustScore: \"desc\"\n         },\n         take: 5,\n         select: {\n           id: true,\n           name: true,\n           imageUrl: true,\n           niche: true,\n           trustScore: true,\n           dramaCount: true,\n           goodActionCount: true,\n           lastUpdated: true,\n           communityTrustScore: {\n           ~~~~~~~~~~~~~~~~~~~\n             select: {\n               avgRating: true,\n               totalRatings: true,\n               communityScore: true,\n               combinedScore: true\n             }\n           },\n       ?   summary?: true,\n       ?   socialHandles?: true,\n       ?   neutralCount?: true,\n       ?   avgSentiment?: true,\n       ?   language?: true,\n       ?   createdAt?: true,\n       ?   claimedAt?: true,\n       ?   claimedBy?: true,\n       ?   isClaimed?: true,\n       ?   verificationStatus?: true,\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true,\n       ?   _count?: true\n         }\n       })\n\nUnknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopRated (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:21:25","timestamp":"2025-11-16T13:48:46.107Z"}
[32minfo[39m: GET /api/engagement/leaderboard/trending {"ip":"::1","timestamp":"2025-11-16T13:48:46.155Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/most-improved {"ip":"::1","timestamp":"2025-11-16T13:48:46.593Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::1","timestamp":"2025-11-16T13:48:46.902Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:48:47.070Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T13:48:47.075Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:48:47.113Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-11-09T13:48:47.114Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-11-09T13:48:47.114Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-11-09T13:48:47.114Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-11-09T13:48:47.114Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T13:48:47.116Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:48:47.172Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-10-17T13:48:47.172Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-10-17T13:48:47.172Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-10-17T13:48:47.172Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-10-17T13:48:47.172Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T13:48:47.175Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:48:47.226Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-11-15T13:48:47.226Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-11-15T13:48:47.226Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T13:48:47.226Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T13:48:47.226Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T13:48:47.228Z"}
[32minfo[39m: GET /api/engagement/leaderboard/active-users {"ip":"::1","timestamp":"2025-11-16T13:48:47.278Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting active users: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:37

  188 async getMostActiveUsers(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' = 'WEEKLY', limit: number = 20) {
  189   const periodDate = this.getPeriodDate(period);
  190 
‚Üí 191   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-11-09T13:48:47.278Z")
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-11-09T13:48:47.278Z")
                }
              }
            }
          },
          take: 20
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:37\n\n  188 async getMostActiveUsers(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' = 'WEEKLY', limit: number = 20) {\n  189   const periodDate = this.getPeriodDate(period);\n  190 \n‚Üí 191   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-11-09T13:48:47.278Z\")\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-11-09T13:48:47.278Z\")\n                }\n              }\n            }\n          },\n          take: 20\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getMostActiveUsers (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:119:25","timestamp":"2025-11-16T13:48:47.281Z"}
[32minfo[39m: GET /api/engagement/top-users {"ip":"::1","timestamp":"2025-11-16T13:48:47.339Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top users: 
Invalid `prisma.userEngagementStats.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:52

  269  * Get leaderboard of top users by XP
  270  */
  271 async getTopUsers(limit: number = 20) {
‚Üí 272   const users = await prisma.userEngagementStats.findMany({
          orderBy: [
            {
              level: "desc"
            },
            {
              experiencePoints: "desc"
            }
          ],
          take: 10,
          include: {
            user: {
            ~~~~
              select: {
                id: true,
                firstName: true,
                lastName: true,
                avatar: true,
                role: true
              }
            },
        ?   User?: true
          }
        })

Unknown field `user` for include statement on model `UserEngagementStats`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.userEngagementStats.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:52\n\n  269  * Get leaderboard of top users by XP\n  270  */\n  271 async getTopUsers(limit: number = 20) {\n‚Üí 272   const users = await prisma.userEngagementStats.findMany({\n          orderBy: [\n            {\n              level: \"desc\"\n            },\n            {\n              experiencePoints: \"desc\"\n            }\n          ],\n          take: 10,\n          include: {\n            user: {\n            ~~~~\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatar: true,\n                role: true\n              }\n            },\n        ?   User?: true\n          }\n        })\n\nUnknown field `user` for include statement on model `UserEngagementStats`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at GamificationService.getTopUsers (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:213:25","timestamp":"2025-11-16T13:48:47.520Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:49:05.577Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T13:49:05.690Z"}
[INFO] 14:49:44 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T13:49:45.631Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T13:49:45.633Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T13:49:45.634Z"}
[INFO] 14:50:26 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T13:50:27.033Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T13:50:27.035Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T13:50:27.035Z"}
[INFO] 14:50:59 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T13:51:00.657Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T13:51:00.658Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T13:51:00.659Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:51:24.617Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/health {"ip":"::1","timestamp":"2025-11-16T13:51:37.294Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:51:37.329Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:51:37.666Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:51:37.898Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers {"ip":"::1","timestamp":"2025-11-16T13:51:38.084Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/influencers/7d5b25f7-65f4-47d0-83c6-26690b6e3f60 {"ip":"::1","timestamp":"2025-11-16T13:51:38.310Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error fetching influencer: 
Invalid `prisma.influencer.findUnique()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30

  53  * Get influencer by ID with mentions
  54  */
  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {
‚Üí 56   return prisma.influencer.findUnique({
         where: {
           id: "7d5b25f7-65f4-47d0-83c6-26690b6e3f60"
         },
         include: {
           mentions: {
           ~~~~~~~~
             orderBy: {
               scrapedAt: "desc"
             },
             take: 100
           },
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true
         }
       })

Unknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findUnique()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30\n\n  53  * Get influencer by ID with mentions\n  54  */\n  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {\n‚Üí 56   return prisma.influencer.findUnique({\n         where: {\n           id: \"7d5b25f7-65f4-47d0-83c6-26690b6e3f60\"\n         },\n         include: {\n           mentions: {\n           ~~~~~~~~\n             orderBy: {\n               scrapedAt: \"desc\"\n             },\n             take: 100\n           },\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true\n         }\n       })\n\nUnknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/influencer.routes.ts:67:24","timestamp":"2025-11-16T13:51:38.343Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-rated {"ip":"::1","timestamp":"2025-11-16T13:51:38.396Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top rated: 
Invalid `prisma.influencer.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49

   8  * Get top rated influencers
   9  */
  10 async getTopRated(limit: number = 20) {
‚Üí 11   const influencers = await prisma.influencer.findMany({
         orderBy: {
           trustScore: "desc"
         },
         take: 5,
         select: {
           id: true,
           name: true,
           imageUrl: true,
           niche: true,
           trustScore: true,
           dramaCount: true,
           goodActionCount: true,
           lastUpdated: true,
           communityTrustScore: {
           ~~~~~~~~~~~~~~~~~~~
             select: {
               avgRating: true,
               totalRatings: true,
               communityScore: true,
               combinedScore: true
             }
           },
       ?   summary?: true,
       ?   socialHandles?: true,
       ?   neutralCount?: true,
       ?   avgSentiment?: true,
       ?   language?: true,
       ?   createdAt?: true,
       ?   claimedAt?: true,
       ?   claimedBy?: true,
       ?   isClaimed?: true,
       ?   verificationStatus?: true,
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true,
       ?   _count?: true
         }
       })

Unknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49\n\n   8  * Get top rated influencers\n   9  */\n  10 async getTopRated(limit: number = 20) {\n‚Üí 11   const influencers = await prisma.influencer.findMany({\n         orderBy: {\n           trustScore: \"desc\"\n         },\n         take: 5,\n         select: {\n           id: true,\n           name: true,\n           imageUrl: true,\n           niche: true,\n           trustScore: true,\n           dramaCount: true,\n           goodActionCount: true,\n           lastUpdated: true,\n           communityTrustScore: {\n           ~~~~~~~~~~~~~~~~~~~\n             select: {\n               avgRating: true,\n               totalRatings: true,\n               communityScore: true,\n               combinedScore: true\n             }\n           },\n       ?   summary?: true,\n       ?   socialHandles?: true,\n       ?   neutralCount?: true,\n       ?   avgSentiment?: true,\n       ?   language?: true,\n       ?   createdAt?: true,\n       ?   claimedAt?: true,\n       ?   claimedBy?: true,\n       ?   isClaimed?: true,\n       ?   verificationStatus?: true,\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true,\n       ?   _count?: true\n         }\n       })\n\nUnknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopRated (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:21:25","timestamp":"2025-11-16T13:51:38.405Z"}
[32minfo[39m: GET /api/engagement/leaderboard/trending {"ip":"::1","timestamp":"2025-11-16T13:51:38.447Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/most-improved {"ip":"::1","timestamp":"2025-11-16T13:51:38.681Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::1","timestamp":"2025-11-16T13:51:38.899Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:51:39.051Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:51:39.369Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:51:39.609Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T13:51:39.890Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/leaderboard/active-users {"ip":"::1","timestamp":"2025-11-16T13:51:40.136Z","userAgent":"curl/8.7.1"}
[32minfo[39m: GET /api/engagement/top-users {"ip":"::1","timestamp":"2025-11-16T13:51:40.436Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top users: 
Invalid `prisma.userEngagementStats.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:52

  269  * Get leaderboard of top users by XP
  270  */
  271 async getTopUsers(limit: number = 20) {
‚Üí 272   const users = await prisma.userEngagementStats.findMany({
          orderBy: [
            {
              level: "desc"
            },
            {
              experiencePoints: "desc"
            }
          ],
          take: 10,
          include: {
            user: {
            ~~~~
              select: {
                id: true,
                firstName: true,
                lastName: true,
                avatar: true,
                role: true
              }
            },
        ?   User?: true
          }
        })

Unknown field `user` for include statement on model `UserEngagementStats`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.userEngagementStats.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:52\n\n  269  * Get leaderboard of top users by XP\n  270  */\n  271 async getTopUsers(limit: number = 20) {\n‚Üí 272   const users = await prisma.userEngagementStats.findMany({\n          orderBy: [\n            {\n              level: \"desc\"\n            },\n            {\n              experiencePoints: \"desc\"\n            }\n          ],\n          take: 10,\n          include: {\n            user: {\n            ~~~~\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatar: true,\n                role: true\n              }\n            },\n        ?   User?: true\n          }\n        })\n\nUnknown field `user` for include statement on model `UserEngagementStats`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at GamificationService.getTopUsers (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/gamification.service.ts:272:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:213:25","timestamp":"2025-11-16T13:51:40.595Z"}
[32minfo[39m: GET /api/influencers/7d5b25f7-65f4-47d0-83c6-26690b6e3f60 {"ip":"::1","timestamp":"2025-11-16T13:52:05.120Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error fetching influencer: 
Invalid `prisma.influencer.findUnique()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30

  53  * Get influencer by ID with mentions
  54  */
  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {
‚Üí 56   return prisma.influencer.findUnique({
         where: {
           id: "7d5b25f7-65f4-47d0-83c6-26690b6e3f60"
         },
         include: {
           mentions: {
           ~~~~~~~~
             orderBy: {
               scrapedAt: "desc"
             },
             take: 100
           },
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true
         }
       })

Unknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findUnique()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/influencer.service.ts:56:30\n\n  53  * Get influencer by ID with mentions\n  54  */\n  55 async getInfluencerById(id: string): Promise<InfluencerWithMentions | null> {\n‚Üí 56   return prisma.influencer.findUnique({\n         where: {\n           id: \"7d5b25f7-65f4-47d0-83c6-26690b6e3f60\"\n         },\n         include: {\n           mentions: {\n           ~~~~~~~~\n             orderBy: {\n               scrapedAt: \"desc\"\n             },\n             take: 100\n           },\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true\n         }\n       })\n\nUnknown field `mentions` for include statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/influencer.routes.ts:67:24","timestamp":"2025-11-16T13:52:05.145Z"}
[INFO] 15:47:25 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/community.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T14:47:25.860Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T14:47:25.862Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T14:47:25.862Z"}
[32minfo[39m: GET /api/influencers {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:04.217Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[32minfo[39m: GET /api/engagement/leaderboard/top-rated {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:07.588Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[32minfo[39m: GET /api/engagement/my-stats {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:07.594Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting top rated: 
Invalid `prisma.influencer.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49

   8  * Get top rated influencers
   9  */
  10 async getTopRated(limit: number = 20) {
‚Üí 11   const influencers = await prisma.influencer.findMany({
         orderBy: {
           trustScore: "desc"
         },
         take: 20,
         select: {
           id: true,
           name: true,
           imageUrl: true,
           niche: true,
           trustScore: true,
           dramaCount: true,
           goodActionCount: true,
           lastUpdated: true,
           communityTrustScore: {
           ~~~~~~~~~~~~~~~~~~~
             select: {
               avgRating: true,
               totalRatings: true,
               communityScore: true,
               combinedScore: true
             }
           },
       ?   summary?: true,
       ?   socialHandles?: true,
       ?   neutralCount?: true,
       ?   avgSentiment?: true,
       ?   language?: true,
       ?   createdAt?: true,
       ?   claimedAt?: true,
       ?   claimedBy?: true,
       ?   isClaimed?: true,
       ?   verificationStatus?: true,
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true,
       ?   _count?: true
         }
       })

Unknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49\n\n   8  * Get top rated influencers\n   9  */\n  10 async getTopRated(limit: number = 20) {\n‚Üí 11   const influencers = await prisma.influencer.findMany({\n         orderBy: {\n           trustScore: \"desc\"\n         },\n         take: 20,\n         select: {\n           id: true,\n           name: true,\n           imageUrl: true,\n           niche: true,\n           trustScore: true,\n           dramaCount: true,\n           goodActionCount: true,\n           lastUpdated: true,\n           communityTrustScore: {\n           ~~~~~~~~~~~~~~~~~~~\n             select: {\n               avgRating: true,\n               totalRatings: true,\n               communityScore: true,\n               combinedScore: true\n             }\n           },\n       ?   summary?: true,\n       ?   socialHandles?: true,\n       ?   neutralCount?: true,\n       ?   avgSentiment?: true,\n       ?   language?: true,\n       ?   createdAt?: true,\n       ?   claimedAt?: true,\n       ?   claimedBy?: true,\n       ?   isClaimed?: true,\n       ?   verificationStatus?: true,\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true,\n       ?   _count?: true\n         }\n       })\n\nUnknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopRated (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:21:25","timestamp":"2025-11-16T14:49:07.769Z"}
[32minfo[39m: Updated user from Supabase: guiguider31@gmail.com {"timestamp":"2025-11-16T14:49:08.112Z"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:09.684Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting highest risk: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42P01`. Message: `relation "influencer" does not exist` {"clientVersion":"5.22.0","code":"P2010","meta":{"code":"42P01","message":"relation \"influencer\" does not exist"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.$queryRaw()` invocation:\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"influencer\" does not exist`\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getHighestRisk (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:96:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:70:25","timestamp":"2025-11-16T14:49:09.774Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-rated {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:11.794Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting top rated: 
Invalid `prisma.influencer.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49

   8  * Get top rated influencers
   9  */
  10 async getTopRated(limit: number = 20) {
‚Üí 11   const influencers = await prisma.influencer.findMany({
         orderBy: {
           trustScore: "desc"
         },
         take: 20,
         select: {
           id: true,
           name: true,
           imageUrl: true,
           niche: true,
           trustScore: true,
           dramaCount: true,
           goodActionCount: true,
           lastUpdated: true,
           communityTrustScore: {
           ~~~~~~~~~~~~~~~~~~~
             select: {
               avgRating: true,
               totalRatings: true,
               communityScore: true,
               combinedScore: true
             }
           },
       ?   summary?: true,
       ?   socialHandles?: true,
       ?   neutralCount?: true,
       ?   avgSentiment?: true,
       ?   language?: true,
       ?   createdAt?: true,
       ?   claimedAt?: true,
       ?   claimedBy?: true,
       ?   isClaimed?: true,
       ?   verificationStatus?: true,
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true,
       ?   _count?: true
         }
       })

Unknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49\n\n   8  * Get top rated influencers\n   9  */\n  10 async getTopRated(limit: number = 20) {\n‚Üí 11   const influencers = await prisma.influencer.findMany({\n         orderBy: {\n           trustScore: \"desc\"\n         },\n         take: 20,\n         select: {\n           id: true,\n           name: true,\n           imageUrl: true,\n           niche: true,\n           trustScore: true,\n           dramaCount: true,\n           goodActionCount: true,\n           lastUpdated: true,\n           communityTrustScore: {\n           ~~~~~~~~~~~~~~~~~~~\n             select: {\n               avgRating: true,\n               totalRatings: true,\n               communityScore: true,\n               combinedScore: true\n             }\n           },\n       ?   summary?: true,\n       ?   socialHandles?: true,\n       ?   neutralCount?: true,\n       ?   avgSentiment?: true,\n       ?   language?: true,\n       ?   createdAt?: true,\n       ?   claimedAt?: true,\n       ?   claimedBy?: true,\n       ?   isClaimed?: true,\n       ?   verificationStatus?: true,\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true,\n       ?   _count?: true\n         }\n       })\n\nUnknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopRated (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:21:25","timestamp":"2025-11-16T14:49:11.796Z"}
[32minfo[39m: GET /api/engagement/leaderboard/most-improved {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:12.432Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting most improved: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42P01`. Message: `relation "influencer" does not exist` {"clientVersion":"5.22.0","code":"P2010","meta":{"code":"42P01","message":"relation \"influencer\" does not exist"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.$queryRaw()` invocation:\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"influencer\" does not exist`\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getMostImproved (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:48:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:45:25","timestamp":"2025-11-16T14:49:12.531Z"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:13.077Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting highest risk: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42P01`. Message: `relation "influencer" does not exist` {"clientVersion":"5.22.0","code":"P2010","meta":{"code":"42P01","message":"relation \"influencer\" does not exist"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.$queryRaw()` invocation:\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"influencer\" does not exist`\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getHighestRisk (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:96:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:70:25","timestamp":"2025-11-16T14:49:13.163Z"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:49:14.039Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting highest risk: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42P01`. Message: `relation "influencer" does not exist` {"clientVersion":"5.22.0","code":"P2010","meta":{"code":"42P01","message":"relation \"influencer\" does not exist"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.$queryRaw()` invocation:\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"influencer\" does not exist`\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getHighestRisk (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:96:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:70:25","timestamp":"2025-11-16T14:49:14.189Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::1","timestamp":"2025-11-16T14:50:53.279Z","userAgent":"curl/8.7.1"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("1970-01-01T00:00:00.000Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"1970-01-01T00:00:00.000Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T14:50:53.311Z"}
[32minfo[39m: GET /api/engagement/leaderboard/highest-risk {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:08.919Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting highest risk: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42P01`. Message: `relation "influencer" does not exist` {"clientVersion":"5.22.0","code":"P2010","meta":{"code":"42P01","message":"relation \"influencer\" does not exist"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.$queryRaw()` invocation:\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"influencer\" does not exist`\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getHighestRisk (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:96:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:70:25","timestamp":"2025-11-16T14:51:09.038Z"}
[32minfo[39m: GET /api/engagement/leaderboard/active-users {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:10.097Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting active users: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:37

  188 async getMostActiveUsers(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' = 'WEEKLY', limit: number = 20) {
  189   const periodDate = this.getPeriodDate(period);
  190 
‚Üí 191   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-11-15T14:51:10.097Z")
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-11-15T14:51:10.097Z")
                }
              }
            }
          },
          take: 40
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:37\n\n  188 async getMostActiveUsers(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' = 'WEEKLY', limit: number = 20) {\n  189   const periodDate = this.getPeriodDate(period);\n  190 \n‚Üí 191   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T14:51:10.097Z\")\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T14:51:10.097Z\")\n                }\n              }\n            }\n          },\n          take: 40\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getMostActiveUsers (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:191:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:119:25","timestamp":"2025-11-16T14:51:10.101Z"}
[32minfo[39m: GET /api/engagement/leaderboard/top-contributors {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:11.331Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting top contributors: 
Invalid `prisma.user.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37

  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {
  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);
  396 
‚Üí 397   const users = await prisma.user.findMany({
          where: {
            communitySignals: {
            ~~~~~~~~~~~~~~~~
              some: {
                createdAt: {
                  gte: new Date("2025-11-15T14:51:11.331Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              }
            },
        ?   AND?: UserWhereInput | UserWhereInput[],
        ?   OR?: UserWhereInput[],
        ?   NOT?: UserWhereInput | UserWhereInput[],
        ?   id?: StringFilter | String,
        ?   email?: StringFilter | String,
        ?   passwordHash?: StringFilter | String,
        ?   role?: StringFilter | String,
        ?   status?: StringFilter | String,
        ?   firstName?: StringNullableFilter | String | Null,
        ?   lastName?: StringNullableFilter | String | Null,
        ?   company?: StringNullableFilter | String | Null,
        ?   avatar?: StringNullableFilter | String | Null,
        ?   subscriptionTier?: StringFilter | String,
        ?   subscriptionStatus?: StringFilter | String,
        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,
        ?   createdAt?: DateTimeFilter | DateTime,
        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,
        ?   emailVerified?: BoolFilter | Boolean,
        ?   lastResetDate?: DateTimeFilter | DateTime,
        ?   monthlyReportsLimit?: IntFilter | Int,
        ?   monthlyReportsUsed?: IntFilter | Int,
        ?   ClaimRequest?: ClaimRequestListRelationFilter,
        ?   CommunitySignal?: CommunitySignalListRelationFilter,
        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,
        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,
        ?   Payment?: PaymentListRelationFilter,
        ?   ResponseVote?: ResponseVoteListRelationFilter,
        ?   UserAchievement?: UserAchievementListRelationFilter,
        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null
          },
          select: {
            id: true,
            firstName: true,
            lastName: true,
            avatar: true,
            role: true,
            subscriptionTier: true,
            engagementStats: true,
            communitySignals: {
              where: {
                createdAt: {
                  gte: new Date("2025-11-15T14:51:11.331Z")
                },
                status: "VERIFIED",
                type: {
                  in: [
                    "DRAMA_REPORT",
                    "POSITIVE_ACTION"
                  ]
                }
              },
              select: {
                type: true,
                createdAt: true
              }
            }
          }
        })

Unknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:37\n\n  394 async getTopContributors(period: 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'ALL_TIME' = 'ALL_TIME', limit: number = 20) {\n  395   const periodDate = period === 'ALL_TIME' ? new Date(0) : this.getPeriodDate(period);\n  396 \n‚Üí 397   const users = await prisma.user.findMany({\n          where: {\n            communitySignals: {\n            ~~~~~~~~~~~~~~~~\n              some: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T14:51:11.331Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              }\n            },\n        ?   AND?: UserWhereInput | UserWhereInput[],\n        ?   OR?: UserWhereInput[],\n        ?   NOT?: UserWhereInput | UserWhereInput[],\n        ?   id?: StringFilter | String,\n        ?   email?: StringFilter | String,\n        ?   passwordHash?: StringFilter | String,\n        ?   role?: StringFilter | String,\n        ?   status?: StringFilter | String,\n        ?   firstName?: StringNullableFilter | String | Null,\n        ?   lastName?: StringNullableFilter | String | Null,\n        ?   company?: StringNullableFilter | String | Null,\n        ?   avatar?: StringNullableFilter | String | Null,\n        ?   subscriptionTier?: StringFilter | String,\n        ?   subscriptionStatus?: StringFilter | String,\n        ?   subscriptionExpiry?: DateTimeNullableFilter | DateTime | Null,\n        ?   createdAt?: DateTimeFilter | DateTime,\n        ?   lastLoginAt?: DateTimeNullableFilter | DateTime | Null,\n        ?   emailVerified?: BoolFilter | Boolean,\n        ?   lastResetDate?: DateTimeFilter | DateTime,\n        ?   monthlyReportsLimit?: IntFilter | Int,\n        ?   monthlyReportsUsed?: IntFilter | Int,\n        ?   ClaimRequest?: ClaimRequestListRelationFilter,\n        ?   CommunitySignal?: CommunitySignalListRelationFilter,\n        ?   DeepSearchAnalysis?: DeepSearchAnalysisListRelationFilter,\n        ?   DeepSearchOrder?: DeepSearchOrderListRelationFilter,\n        ?   Payment?: PaymentListRelationFilter,\n        ?   ResponseVote?: ResponseVoteListRelationFilter,\n        ?   UserAchievement?: UserAchievementListRelationFilter,\n        ?   UserEngagementStats?: UserEngagementStatsNullableRelationFilter | UserEngagementStatsWhereInput | Null\n          },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            avatar: true,\n            role: true,\n            subscriptionTier: true,\n            engagementStats: true,\n            communitySignals: {\n              where: {\n                createdAt: {\n                  gte: new Date(\"2025-11-15T14:51:11.331Z\")\n                },\n                status: \"VERIFIED\",\n                type: {\n                  in: [\n                    \"DRAMA_REPORT\",\n                    \"POSITIVE_ACTION\"\n                  ]\n                }\n              },\n              select: {\n                type: true,\n                createdAt: true\n              }\n            }\n          }\n        })\n\nUnknown argument `communitySignals`. Did you mean `CommunitySignal`? Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopContributors (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:397:19)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:237:25","timestamp":"2025-11-16T14:51:11.333Z"}
[32minfo[39m: GET /api/engagement/leaderboard/trending {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:11.546Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[32minfo[39m: GET /api/engagement/leaderboard/top-rated {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:21.292Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[31merror[39m: Error getting top rated: 
Invalid `prisma.influencer.findMany()` invocation in
/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49

   8  * Get top rated influencers
   9  */
  10 async getTopRated(limit: number = 20) {
‚Üí 11   const influencers = await prisma.influencer.findMany({
         orderBy: {
           trustScore: "desc"
         },
         take: 20,
         select: {
           id: true,
           name: true,
           imageUrl: true,
           niche: true,
           trustScore: true,
           dramaCount: true,
           goodActionCount: true,
           lastUpdated: true,
           communityTrustScore: {
           ~~~~~~~~~~~~~~~~~~~
             select: {
               avgRating: true,
               totalRatings: true,
               communityScore: true,
               combinedScore: true
             }
           },
       ?   summary?: true,
       ?   socialHandles?: true,
       ?   neutralCount?: true,
       ?   avgSentiment?: true,
       ?   language?: true,
       ?   createdAt?: true,
       ?   claimedAt?: true,
       ?   claimedBy?: true,
       ?   isClaimed?: true,
       ?   verificationStatus?: true,
       ?   AnalysisHistory?: true,
       ?   ClaimRequest?: true,
       ?   CommunitySignal?: true,
       ?   CommunityTrustScore?: true,
       ?   DeepSearchAnalysis?: true,
       ?   InfluencerResponse?: true,
       ?   Mention?: true,
       ?   _count?: true
         }
       })

Unknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?. {"clientVersion":"5.22.0","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.influencer.findMany()` invocation in\n/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:49\n\n   8  * Get top rated influencers\n   9  */\n  10 async getTopRated(limit: number = 20) {\n‚Üí 11   const influencers = await prisma.influencer.findMany({\n         orderBy: {\n           trustScore: \"desc\"\n         },\n         take: 20,\n         select: {\n           id: true,\n           name: true,\n           imageUrl: true,\n           niche: true,\n           trustScore: true,\n           dramaCount: true,\n           goodActionCount: true,\n           lastUpdated: true,\n           communityTrustScore: {\n           ~~~~~~~~~~~~~~~~~~~\n             select: {\n               avgRating: true,\n               totalRatings: true,\n               communityScore: true,\n               combinedScore: true\n             }\n           },\n       ?   summary?: true,\n       ?   socialHandles?: true,\n       ?   neutralCount?: true,\n       ?   avgSentiment?: true,\n       ?   language?: true,\n       ?   createdAt?: true,\n       ?   claimedAt?: true,\n       ?   claimedBy?: true,\n       ?   isClaimed?: true,\n       ?   verificationStatus?: true,\n       ?   AnalysisHistory?: true,\n       ?   ClaimRequest?: true,\n       ?   CommunitySignal?: true,\n       ?   CommunityTrustScore?: true,\n       ?   DeepSearchAnalysis?: true,\n       ?   InfluencerResponse?: true,\n       ?   Mention?: true,\n       ?   _count?: true\n         }\n       })\n\nUnknown field `communityTrustScore` for select statement on model `Influencer`. Available options are marked with ?.\n    at wn (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at LeaderboardService.getTopRated (/Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts:11:25)\n    at /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/routes/engagement.routes.ts:21:25","timestamp":"2025-11-16T14:51:21.294Z"}
[INFO] 15:51:31 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T14:51:32.166Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T14:51:32.168Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T14:51:32.169Z"}
[32minfo[39m: GET /api/engagement/my-achievements {"ip":"::ffff:10.80.222.54","timestamp":"2025-11-16T14:51:51.708Z","userAgent":"Expo/1017756 CFNetwork/3860.300.31 Darwin/25.2.0"}
[32minfo[39m: Updated user from Supabase: guiguider31@gmail.com {"timestamp":"2025-11-16T14:51:52.213Z"}
[INFO] 15:51:55 Restarting: /Users/guillaume_deramchi/Documents/hack-the-gap/mobile-app/backend/src/services/leaderboard.service.ts has been modified
‚ö†Ô∏è  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[32minfo[39m: üöÄ Server running on port 3000 {"timestamp":"2025-11-16T14:51:56.134Z"}
[32minfo[39m: üìä Environment: development {"timestamp":"2025-11-16T14:51:56.135Z"}
[32minfo[39m: üîó Health check: http://localhost:3000/api/health {"timestamp":"2025-11-16T14:51:56.135Z"}
